
<Library>
    <Command Category="Identification">
        <Instruction>_IDN</Instruction>
        <Name>Identification</Name>
        <Description>Answers REC BMS xxx where xxx is the type of BMS</Description>
        <ReadOnly>true</ReadOnly>
        <Range>null</Range>
        <Return>
            <Description>Device identification</Description>
            <Value>string</Value>
            <Unit>Description</Unit>
        </Return>
    </Command>
    <Command Category="Information">
        <Instruction>LCD1</Instruction>
        <Name>Main_Data_1</Name>
        <Description>First answer is 28 how many byte data will be sent and then data message follows as 7 float values:</Description>
        <ReadOnly>true</ReadOnly>
        <Range>null</Range>
        <Return>
            <Array>
                <Value>
                    <Description>message length in bytes</Description>
                    <Unit>count</Unit>
                    <Value>integer</Value>
                    <Position>0</Position>
                </Value>
                <Value>
                    <Description>min cell voltage</Description>
                    <Unit>volts</Unit>
                    <Value>float</Value>
                    <Position>1</Position>
                </Value>
                <Value>
                    <Description>max cell voltage</Description>
                    <Unit>volts</Unit>
                    <Value>float</Value>
                    <Position>2</Position>
                </Value>
                <Value>
                    <Description>current</Description>
                    <Unit>volts</Unit>
                    <Value>float</Value>
                    <Position>3</Position>
                </Value>
                <Value>
                    <Description>max temperature</Description>
                    <Unit>celcius</Unit>
                    <Value>float</Value>
                    <Position>4</Position>
                </Value>
                <Value>
                    <Description>pack voltage</Description>
                    <Unit>volts</Unit>
                    <Value>float</Value>
                    <Position>5</Position>
                </Value>
                <Value>
                    <Description>SOC (state of charge) interval 0-1-> 1=100%</Description>
                    <Unit>percent</Unit>
                    <Value>float</Value>
                    <Position>6</Position>
                </Value>
                <Value>
                    <Description>SOH (state of health) interval 0-1-> 1=100%</Description>
                    <Unit>percent</Unit>
                    <Value>float</Value>
                    <Position>7</Position>
                </Value>
            </Array>
        </Return>
    </Command>
    <Command Category="Information">
        <Instruction>LCD3</Instruction>
        <Name>Main_Data_3</Name>
        <Description>First answer is 8 how many byte data will be sent and then data message follows as 8 byte values:</Description>
        <ReadOnly>true</ReadOnly>
        <Range>null</Range>
        <Return>
            <Array>
                <Value>
                    <Description>byte count of message payload</Description>
                    <Unit>count</Unit>
                    <Value>int</Value>
                    <Position>0</Position>
                </Value>
                <Value>
                    <Description>min cell BMS address</Description>
                    <Unit>identity_bms</Unit>
                    <Value>int</Value>
                    <Position>1</Position>
                </Value>
                <Value>
                    <Description>min cell number</Description>
                    <Unit>identity_cell</Unit>
                    <Value>int</Value>
                    <Position>2</Position>
                </Value>
                <Value>
                    <Description>max cell BMS address</Description>
                    <Unit>identity_bms</Unit>
                    <Value>int</Value>
                    <Position>3</Position>
                </Value>
                <Value>
                    <Description>max cell number</Description>
                    <Unit>identity_cell</Unit>
                    <Value>int</Value>
                    <Position>4</Position>
                </Value>
                <Value>
                    <Description>max temperature sense BMS address</Description>
                    <Unit>identity_bms</Unit>
                    <Value>int</Value>
                    <Position>5</Position>
                </Value>
                <Value>
                    <Description>max temperature sense number</Description>
                    <Unit>identity_cell</Unit>
                    <Value>int</Value>
                    <Position>6</Position>
                </Value>
                <Value>
                    <Description>Ah MSB</Description>
                    <Unit>AmpHour</Unit>
                    <Value>int</Value>
                    <Position>7</Position>
                </Value>
                <Value>
                    <Description>Ah LSB</Description>
                    <Unit>AmpHour</Unit>
                    <Value>int</Value>
                    <Position>8</Position>
                </Value>
            </Array>
        </Return>
    </Command>
    <Command Category="Information">
        <Instruction>CELL</Instruction>
        <Name>Cell Voltages</Name>
        <Description>BMS first responds with how many BMS units are connected, then it sends the values of the cells configured in float Value</Description>
        <ReadOnly>true</ReadOnly>
        <Range>null</Range>
        <Return>
            <Array>
                <Value>
                    <Description>number of BMS units</Description>
                    <Unit>count</Unit>
                    <Value>int</Value>
                    <Position>0</Position>
                </Value>
                <Value>
                    <Description>cell voltage</Description>
                    <Unit>voltage</Unit>
                    <Value>float</Value>
                    <Position>template</Position>
                </Value>
            </Array>
        </Return>
    </Command>
    <Command Category="Information">
        <Instruction>PTEM</Instruction>
        <Name>Cell temperatures</Name>
        <Description>BMS first responds with how many BMS units are connected then it sends the values of the temperature sensors in float Value</Description>
        <ReadOnly>true</ReadOnly>
        <Range>null</Range>
        <Return>
            <Array>
                <Value>
                    <Description>number of BMS units</Description>
                    <Unit>count</Unit>
                    <Value>int</Value>
                    <Position>0</Position>
                </Value>
                <Value>
                    <Description>cell temperature</Description>
                    <Unit>celcius</Unit>
                    <Value>float</Value>
                    <Position>template</Position>
                </Value>
            </Array>
        </Return>
    </Command>
    <Command Category="Information">
        <Instruction>RINT</Instruction>
            <Name>Cell internal DC resistance</Name>
            <Description>BMS first responds with how many BMS units are connected then it sends the values in float Value</Description>
            <ReadOnly>true</ReadOnly>
            <Range>null</Range>
            <Return>
                <Array>
                    <Value>
                        <Description>number of BMS units</Description>
                        <Unit>count</Unit>
                        <Value>int</Value>
                        <Position>0</Position>
                    </Value>
                    <Value>
                        <Description>cell resistance</Description>
                        <Unit>ohms</Unit>
                        <Value>float</Value>
                        <Position>template</Position>
                    </Value>
                </Array>
            </Return>
    </Command>
    <Command Category="Information">
        <Instruction>BTEM</Instruction>
            <Name>BMS temperature</Name>
            <Description>BMS first responds with value 1, then it sends the values of the BMS temperature sensor in float Value.</Description>
            <ReadOnly>true</ReadOnly>
            <Range>null</Range>
            <Return>
                <Array>
                    <Value>
                        <Description>number of BMS units</Description>
                        <Unit>count</Unit>
                        <Value>int</Value>
                        <Position>0</Position>
                    </Value>
                    <Value>
                        <Description>BMS temperature</Description>
                        <Unit>celcius</Unit>
                        <Value>float</Value>
                        <Position>template</Position>
                    </Value>
                </Array>
            </Return>
    </Command>
    <Command Category="Information">
        <Instruction>ERRO</Instruction>
            <Name>Error number description array</Name>
            <Description>First answer is 4 how many byte data will be sent and then data message follows as 4 byte values.</Description>
            <ReadOnly>true</ReadOnly>
            <Range>null</Range>
            <Return>
                <Array>
                    <Value>
                        <Description>data bytes to be sent</Description>
                        <Unit>count</Unit>
                        <Value>byte</Value>
                        <Position>0</Position>
                    </Value>
                    <Value>
                        <Description>0 – no error, 1 – error</Description>
                        <Unit>boolean</Unit>
                        <Value>binary</Value>
                        <Position>1</Position>
                    </Value>
                    <Value>
                        <Description>BMS unit</Description>
                        <Unit>identity_bms</Unit>
                        <Value>int</Value>
                        <Position>2</Position>
                    </Value>
                    <Value>
                        <Description>error number (1-16)</Description>
                        <Unit>identity</Unit>
                        <Value>int</Value>
                        <Position>3</Position>
                    </Value>
                    <Value>
                        <Description>number of the cell, temperature sensor where the error occured</Description>
                        <Unit>identity</Unit>
                        <Value>int</Value>
                        <Position>4</Position>
                    </Value>
                </Array>
            </Return>
    </Command>
    <Command Category="Cell">
    <Instruction>BVOL</Instruction>
        <Name>Balance end voltage</Name>
        <Description>Returns voltage value</Description>
        <ReadOnly>false</ReadOnly>
        <Range>
            <Min>2.5</Min>
            <Max>4.30</Max>
        </Range>
        <Return>
            <Description>volts</Description>
            <Unit>volts</Unit>
            <Value>float</Value>
        </Return>
    </Command>
    <Command Category="Cell">
    <Instruction>BMIN</Instruction>
        <Name>Balance start voltage</Name>
        <Description>Returns voltage value</Description>
        <ReadOnly>false</ReadOnly>
        <Range>
            <Min>2.50</Min>
            <Max>4.30</Max>
        </Range>
        <Return>
            <Description>volts</Description>
            <Unit>volts</Unit>
            <Value>float</Value>
        </Return>
    </Command>
    <Command Category="Cell">
    <Instruction>CMAX</Instruction>
        <Name>Cell over-voltage switch-off</Name>
        <Description>Returns voltage value</Description>
        <ReadOnly>false</ReadOnly>
        <Range>
            <Min>2.0</Min>
            <Max>4.30</Max>
        </Range>
        <Return>
            <Description>volts</Description>
            <Unit>volts</Unit>
            <Value>float</Value>
        </Return>
    </Command>
    <Command Category="Cell">
    <Instruction>MAXH</Instruction>
        <Name>Over-voltage switch-off hysteresis per cell</Name>
        <Description>Returns voltage value</Description>
        <ReadOnly>false</ReadOnly>
        <Range>
            <Min>0.005</Min>
            <Max>2.0</Max>
        </Range>
        <Return>
            <Description>volts</Description>
            <Unit>volts</Unit>
            <Value>float</Value>
        </Return>
    </Command>
    <Command Category="Cell">
    <Instruction>CMIN</Instruction>
        <Name>Cell-under voltage protection switch-off</Name>
        <Description>Returns voltage value</Description>
        <ReadOnly>false</ReadOnly>
        <Range>
            <Min>1.8</Min>
            <Max>4.0</Max>
        </Range>
        <Return>
            <Description>volts</Description>
            <Unit>volts</Unit>
            <Value>float</Value>
        </Return>
    </Command>
    <Command Category="Cell">
    <Instruction>MINH</Instruction>
        <Name>Over- voltage switch-off hysteresis per cell</Name>
        <Description>Returns voltage value</Description>
        <ReadOnly>false</ReadOnly>
        <Range>
            <Min>0.005</Min>
            <Max>2.0</Max>
        </Range>
        <Return>
            <Description>volts</Description>
            <Unit>volts</Unit>
            <Value>float</Value>
        </Return>
    </Command>
    <Command Category="Cell">
    <Instruction>CHAR</Instruction>
        <Name>Cell End of charging voltage</Name>
        <Description>Returns voltage value</Description>
        <ReadOnly>false</ReadOnly>
        <Range>
            <Min>2.0</Min>
            <Max>4.30</Max>
        </Range>
        <Return>
            <Description>volts</Description>
            <Unit>volts</Unit>
            <Value>float</Value>
        </Return>
    </Command>
    <Command Category="Cell">
    <Instruction>CHIS</Instruction>
        <Name>End of charging voltage hysteresis per cell</Name>
        <Description>Returns voltage value</Description>
        <ReadOnly>false</ReadOnly>
        <Range>
            <Min>0.005</Min>
            <Max>2.0</Max>
        </Range>
        <Return>
            <Description>volts</Description>
            <Unit>volts</Unit>
            <Value>float</Value>
        </Return>
    </Command>
    <Command Category="Cell">
    <Instruction>RAZL</Instruction>
        <Name>Cells max difference</Name>
        <Description>Returns voltage value</Description>
        <ReadOnly>false</ReadOnly>
        <Range>
            <Min>0.005</Min>
            <Max>1.0</Max>
        </Range>
        <Return>
            <Description>volts</Description>
            <Unit>volts</Unit>
            <Value>float</Value>
        </Return>
    </Command>
    <Command Category="Temperature">
    <Instruction>TMAX</Instruction>
        <Name>cell over temperature switch-off</Name>
        <Description>cell over temperature switch-off</Description>
        <ReadOnly>false</ReadOnly>
        <Range>
            <Min>-20</Min>
            <Max>65</Max>
        </Range>
        <Return>
            <Description>temperature</Description>
            <Unit>celcius</Unit>
            <Value>signed_float</Value>
        </Return>
    </Command>
    <Command Category="Temperature">
    <Instruction>TMIN</Instruction>
        <Name>Under-temperature charging disable</Name>
        <Description>Under-temperature charging disable</Description>
        <ReadOnly>false</ReadOnly>
        <Range>
            <Min>-30</Min>
            <Max>65</Max>
        </Range>
        <Return>
            <Description>temperature</Description>
            <Unit>celcius</Unit>
            <Value>signed_float</Value>
        </Return>
    </Command>
    <Command Category="Temperature">
    <Instruction>TBAL</Instruction>
        <Name>BMS over-temperature switch-off</Name>
        <Description>BMS over-temperature switch-off</Description>
        <ReadOnly>false</ReadOnly>
        <Range>
            <Min>-20</Min>
            <Max>65</Max>
        </Range>
        <Return>
            <Description>temperature</Description>
            <Unit>celcius</Unit>
            <Value>signed_float</Value>
        </Return>
    </Command>
    <Command Category="Temperature">
    <Instruction>BMTH</Instruction>
        <Name>BMS over temperature switch-off hysteresis</Name>
        <Description>BMS over temperature switch-off hysteresis</Description>
        <ReadOnly>false</ReadOnly>
        <Range>
            <Min>1</Min>
            <Max>30</Max>
        </Range>
        <Return>
            <Description>temperature</Description>
            <Unit>celcius</Unit>
            <Value>signed_float</Value>
        </Return>
    </Command>
    <Command Category="Amperage">
    <Instruction>IOFF</Instruction>
        <Name>Current measurement zero offset</Name>
        <Description>Current measurement zero offset</Description>
        <ReadOnly>false</ReadOnly>
        <Range>
            <Min>-2.0</Min>
            <Max>2.0</Max>
        </Range>
        <Return>
            <Description>current in amps</Description>
            <Unit>Amps</Unit>
            <Value>signed_float</Value>
        </Return>
    </Command>
    <Command Category="Amperage">
    <Instruction>IOJA</Instruction>
        <Name>Voltage to current coefficient</Name>
        <Description>Voltage to current coefficient</Description>
        <ReadOnly>false</ReadOnly>
        <Range>
            <Min>0.0005</Min>
            <Max>0.5</Max>
        </Range>
        <Return>
            <Description>coefficient</Description>
            <Unit>mu</Unit>
            <Value>float</Value>
        </Return>
    </Command>
    <Command Category="Pack">
    <Instruction>CYCL</Instruction>
        <Name>Number of full battery pack cycles</Name>
        <Description>Number of full battery pack cycles</Description>
        <ReadOnly>false</ReadOnly>
        <Range>
            <Min>0</Min>
            <Max>8000</Max>
        </Range>
        <Return>
            <Description>battery pack cycles</Description>
            <Unit>count</Unit>
            <Value>integer</Value>
        </Return>
    </Command>
    <Command Category="Pack">
    <Instruction>CAPA</Instruction>
        <Name>Battery pack capacity</Name>
        <Description>Battery pack capacity</Description>
        <ReadOnly>false</ReadOnly>
        <Range>
            <Min>1.0</Min>
            <Max>5000.0</Max>
        </Range>
        <Return>
            <Description>capacity in Amp hours</Description>
            <Unit>Amps</Unit>
            <Value>float</Value>
        </Return>
    </Command>
    <Command Category="Pack">
    <Instruction>CHEM</Instruction>
        <Name>Li-ion chemistry</Name>
        <Description>Li-ion chemistry</Description>
        <ReadOnly>false</ReadOnly>
        <Range>
            <Min>1</Min>
            <Max>5</Max>
        </Range>
        <Return>
            <Description>chemistry selection via lookup</Description>
            <Unit>identity</Unit>
            <Value>unsigned_char</Value>
        </Return>
    </Command>
    <Command Category="SOC">
    <Instruction>SOCH</Instruction>
        <Name>SOC end of charge hysteresis</Name>
        <Description>SOC end of charge hysteresis</Description>
        <ReadOnly>false</ReadOnly>
        <Range>
            <Min>0.005</Min>
            <Max>0.99</Max>
        </Range>
        <Return>
            <Description>Returns float value 0 – 1.0</Description>
            <Unit>percent</Unit>
            <Value>float</Value>
        </Return>
    </Command>
    <Command Category="SOC">
    <Instruction>SOCS</Instruction>
        <Name>SOC manual re-set</Name>
        <Description>SOC manual re-set</Description>
        <ReadOnly>false</ReadOnly>
        <Range>
            <Min>0.01</Min>
            <Max>1.00</Max>
        </Range>
        <Return>
            <Description>Returns float value 0 – 1.0</Description>
            <Unit>percent</Unit>
            <Value>float</Value>
        </Return>
    </Command>
    <Command Category="Victron">
    <Instruction>CHAC</Instruction>
        <Name>Charge coefficient (0-3C)</Name>
        <Description>Charge coefficient (0-3C)</Description>
        <ReadOnly>false</ReadOnly>
        <Range>
            <Min>0.01</Min>
            <Max>1.00</Max>
        </Range>
        <Return>
            <Description>Returns float value 0-3.0 (default 0.6)</Description>
            <Unit>mu</Unit>
            <Value>float</Value>
        </Return>
    </Command>
    <Command Category="Victron">
    <Instruction>DCHC</Instruction>
        <Name>Discharge coefficient (0-3C)</Name>
        <Description>Discharge coefficient (0-3C)</Description>
        <ReadOnly>false</ReadOnly>
        <Range>
            <Min>0.01</Min>
            <Max>3.0</Max>
        </Range>
        <Return>
            <Description>Returns float value 0-3.0 (default 1.5) </Description>
            <Unit>mu</Unit>
            <Value>float</Value>
        </Return>
    </Command>
    <Command Category="Victron">
    <Instruction>SISN</Instruction>
        <Name>Number of inverter devices on the bus</Name>
        <Description>Number of inverter devices on the bus</Description>
        <ReadOnly>false</ReadOnly>
        <Range>
            <Min>1</Min>
            <Max>6</Max>
        </Range>
        <Return>
            <Description>default is 1</Description>
            <Unit>count</Unit>
            <Value>unsigned_char</Value>
        </Return>
    </Command>
    <Command Category="Victron">
    <Instruction>MAXC</Instruction>
        <Name>Maximum charge current per inverter device</Name>
        <Description>Maximum charge current per inverter device</Description>
        <ReadOnly>false</ReadOnly>
        <Range>
            <Min>5.0</Min>
            <Max>345.0</Max>
        </Range>
        <Return>
            <Description>amperage per inverter</Description>
            <Unit>Amps</Unit>
            <Value>float</Value>
        </Return>
    </Command>
    <Command Category="Victron">
    <Instruction>MAXD</Instruction>
        <Name>Maximum discharge current per inverter device</Name>
        <Description>Maximum discharge current per inverter device</Description>
        <ReadOnly>false</ReadOnly>
        <Range>
            <Min>5.0</Min>
            <Max>345.0</Max>
        </Range>
        <Return>
            <Description>amperage per inverter</Description>
            <Unit>Amps</Unit>
            <Value>float</Value>
        </Return>
    </Command>
    <Command Category="Victron">
    <Instruction>CLOW</Instruction>
        <Name>cell under-voltage discharge protection</Name>
        <Description>cell under-voltage discharge protection</Description>
        <ReadOnly>false</ReadOnly>
        <Range>
            <Min>1.8</Min>
            <Max>4.20</Max>
        </Range>
        <Return>
            <Description>voltage per cell</Description>
            <Unit>Volts</Unit>
            <Value>float</Value>
        </Return>
    </Command>
    <Command Category="Victron">
    <Instruction>CANF</Instruction>
        <Name>CAN Frequency</Name>
        <Description>CAN Frequency</Description>
        <ReadOnly>false</ReadOnly>
        <Range>
            <Min>1</Min>
            <Max>2</Max>
        </Range>
        <Return>
            <Description>1 is 250 kb/s 2 is 500 kb/s</Description>
            <Unit>identity</Unit>
            <Value>unsigned_char</Value>
        </Return>
    </Command>
    <Command Category="Error">
    <Instruction>VMAX</Instruction>
        <Name>Number of exceeded values of CMAX</Name>
        <Description>Number of exceeded values of CMAX</Description>
        <ReadOnly>false</ReadOnly>
        <Range>
            <Min>0</Min>
            <Max>8000</Max>
        </Range>
        <Return>
            <Description>Count of cycles of cells over max voltage</Description>
            <Unit>count</Unit>
            <Value>integer</Value>
        </Return>
    </Command>
    <Command Category="Error">
    <Instruction>VMIN</Instruction>
        <Name>Number of exceeded values of CMIN</Name>
        <Description>Number of exceeded values of CMIN</Description>
        <ReadOnly>false</ReadOnly>
        <Range>
            <Min>0</Min>
            <Max>8000</Max>
        </Range>
        <Return>
            <Description>Count of cycles of cells under minimum voltage</Description>
            <Unit>count</Unit>
            <Value>integer</Value>
        </Return>
    </Command>
    <Command Category="BMS">
    <Instruction>SWVR</Instruction>
        <Name>BMS software version</Name>
        <Description>BMS software version</Description>
        <ReadOnly>true</ReadOnly>
        <Range>null</Range>
        <Return>
            <Description>Current version of software on BMS</Description>
            <Unit>Description</Unit>
            <Value>string</Value>
        </Return>
    </Command>
    <Command Category="BMS">
    <Instruction>HWVR</Instruction>
        <Name>BMS hardware version</Name>
        <Description>BMS hardware version</Description>
        <ReadOnly>true</ReadOnly>
        <Range>null</Range>
        <Return>
            <Description>Hardware revision of BMS</Description>
            <Unit>Description</Unit>
            <Value>string</Value>
        </Return>
    </Command>
    <Command Category="BMS">
    <Instruction>EAVC</Instruction>
        <Name>Even cells calibration value</Name>
        <Description>Even cells calibration value</Description>
        <ReadOnly>false</ReadOnly>
        <Range>
            <Min>-0.0003</Min>
            <Max>0.0003</Max>
        </Range>
        <Return>
            <Description>even cell calibration value in volts</Description>
            <Unit>volts</Unit>
            <Value>signed_float</Value>
        </Return>
    </Command>
    <Command Category="BMS">
    <Instruction>ODDC</Instruction>
        <Name>Odd cells calibration value</Name>
        <Description>Odd cells calibration value</Description>
        <ReadOnly>false</ReadOnly>
        <Range>
            <Min>-0.0003</Min>
            <Max>0.0003</Max>
        </Range>
        <Return>
            <Description>odd cell calibration value in volts</Description>
            <Unit>volts</Unit>
            <Value>signed_float</Value>
        </Return>
    </Command>
    <Command Category="BMS">
    <Instruction>REFC</Instruction>
        <Name>ADC reference voltage 5.000 V +/- 3 mV</Name>
        <Description>ADC reference voltage 5.000 V +/- 3 mV</Description>
        <ReadOnly>false</ReadOnly>
        <Range>
            <Min>4.007</Min>
            <Max>5.003</Max>
        </Range>
        <Return>
            <Description></Description>
            <Unit>volts</Unit>
            <Value>signed_float</Value>
        </Return>
    </Command>
</Library>